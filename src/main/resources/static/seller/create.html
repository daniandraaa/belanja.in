<!DOCTYPE html>
<html>
<head>
  <title>Tambah Produk</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container-fluid">
      <a class="navbar-brand" href="/seller/dashboard.html">Seller Dashboard</a>
      <div>
        <a href="/buyer/index.html" class="btn btn-outline-warning">Lihat Toko</a>
      </div>
    </div>
  </nav>

  <div class="container">
    <h2 class="mb-4">Tambah Produk Baru</h2>
    <form id="formProduk" class="card p-4 shadow-sm bg-white">
      <div class="mb-3">
        <label for="name" class="form-label">Nama Produk</label>
        <input type="text" id="name" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="price" class="form-label">Harga</label>
        <input type="number" id="price" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="description" class="form-label">Deskripsi</label>
        <textarea id="description" class="form-control" required></textarea>
      </div>
      <button class="btn btn-primary" type="submit">Simpan Produk</button>
    </form>
  </div>

  <script>
    document.getElementById("formProduk").addEventListener("submit", function(e) {
      e.preventDefault();
      const data = {
        name: document.getElementById("name").value,
        price: parseFloat(document.getElementById("price").value),
        description: document.getElementById("description").value
      };

      fetch("http://localhost:8080/api/seller/products", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      }).then(res => {
        if (res.ok) {
          alert("Produk berhasil ditambahkan");
          window.location.href = "/seller/dashboard.html";
        } else {
          alert("Gagal tambah produk");
        }
      });
    });
  </script>
</body>
</html>
